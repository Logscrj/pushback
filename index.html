<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sistema de Gestão de Estoque</title>
<script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
const{useState,useEffect}=React;const materialsDatabase=[{code:"49060",description:"PROMASTOP UNICOLLAR EXPORT 2250X50X12MM"},{code:"50093",description:"PSEAL- PL-SK 2,5 SK/G str.coil 25m/20mm"},{code:"81975",description:"CEDRAL SIDING LISO NATURAL 2M40X0M20X8MM"},{code:"92939",description:"CH V GYP RU BR12,5-120X180"},{code:"92940",description:"CH V GYP RU BR12,5-120X200"},{code:"92941",description:"CH V GYP RU BR12,5-120X220"},{code:"92943",description:"CH V GYP RU BR12,5-120X240"},{code:"92946",description:"CH V GYP RU BR12,5-120X250"},{code:"92950",description:"CH V GYP RU BR12,5-120X255"},{code:"92954",description:"CH V GYP RU BR12,5-120X260"},{code:"92955",description:"CH V GYP RU BR12,5-120X261"},{code:"92959",description:"CH V GYP RU BR12,5-120X265"},{code:"92960",description:"CH V GYP RU BR12,5-120X266"},{code:"92964",description:"CH V GYP RU BR12,5-120X270"},{code:"92966",description:"CH V GYP RU BR12,5-120X273"},{code:"92967",description:"CH V GYP RU BR12,5-120X275"},{code:"92970",description:"CH V GYP RU BR12,5-120X280"},{code:"92975",description:"CH V GYP RU BR12,5-120X290"},{code:"93038",description:"CP V QUALIGESSOCOLA 20Kg"},{code:"93041",description:"CP V QUALIGESSOCOLA 5Kg"},{code:"93044",description:"GESSO V QUALIGESSO 60 40Kg"},{code:"93521",description:"CP V GYP MASSA PO 20Kg"},{code:"93522",description:"CP V GYP COLA 20Kg"},{code:"93524",description:"CP V GYP FGA COLA 20Kg"},{code:"105466",description:"CH I SOM L5/80 N8 BR 12,5-120X240"},{code:"111746",description:"CP V GYP MASSA PO 5Kg"},{code:"114066",description:"MULTIPLACA 1.20x2.20x4mm BRA"},{code:"124451",description:"SUPERBOARD ST BQ 10MM 1200X2400"},{code:"142084",description:"SUPERBOARD PRO BR 10MM 120X240"},{code:"142687",description:"SUPERBOARD ST BQ 10MM 1200X2400"},{code:"4043804",description:"ACESS R GYP PLATINA 25 600MM"},{code:"4043805",description:"ARAME GALV ENCAPADO 18 - PVC CX 10"},{code:"4043814",description:"ACESS R GYP JUNÇÃO H 400PÇS"},{code:"4043824",description:"FIX R GYP LB 4,2X13 CX 1.000"},{code:"4043834",description:"FITA CT 30M"},{code:"4043835",description:"FITA JT 150 M CX 10"}];const Search=()=>React.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}));const Plus=()=>React.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"}));const Edit2=()=>React.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"}));const Trash2=()=>React.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}));const Package=()=>React.createElement("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"}));const AlertTriangle=()=>React.createElement("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}));const X=()=>React.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}));const Download=()=>React.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"}));const ExternalLink=()=>React.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"}));function App(){const[inventory,setInventory]=useState(()=>{const saved=localStorage.getItem('inventory');return saved?JSON.parse(saved):[]});const[filteredInventory,setFilteredInventory]=useState([]);const[searchTerm,setSearchTerm]=useState('');const[showAddModal,setShowAddModal]=useState(false);const[selectedLocation,setSelectedLocation]=useState(null);const[activeTab,setActiveTab]=useState('dashboard');const[editingItem,setEditingItem]=useState(null);const[codeSuggestions,setCodeSuggestions]=useState([]);const[showSuggestions,setShowSuggestions]=useState(false);const[formData,setFormData]=useState({code:'',description:'',location:'',quantity:'',lot:'',validity:'',technicalSheet:'',lastUpdate:new Date().toISOString().split('T')[0]});useEffect(()=>{localStorage.setItem('inventory',JSON.stringify(inventory))},[inventory]);const generateLocations=()=>{const locs=[];for(let i=1;i<=12;i++)locs.push(`A-${i.toString().padStart(2,'0')}`);for(let i=1;i<=24;i++)locs.push(`B-${i.toString().padStart(2,'0')}`);for(let i=1;i<=20;i++)locs.push(`C-${i.toString().padStart(2,'0')}`);return locs};const locations=generateLocations();useEffect(()=>{const filtered=inventory.filter(item=>item.code.toLowerCase().includes(searchTerm.toLowerCase())||item.description.toLowerCase().includes(searchTerm.toLowerCase())||item.location.toLowerCase().includes(searchTerm.toLowerCase()));setFilteredInventory(filtered)},[searchTerm,inventory]);const handleCodeChange=(value)=>{setFormData({...formData,code:value});if(value.length>0){const suggestions=materialsDatabase.filter(mat=>mat.code.toLowerCase().includes(value.toLowerCase())).slice(0,10);setCodeSuggestions(suggestions);setShowSuggestions(true)}else{setShowSuggestions(false)}};const selectMaterial=(material)=>{setFormData({...formData,code:material.code,description:material.description});setShowSuggestions(false)};const handleAddItem=()=>{if(!formData.code||!formData.description||!formData.location){alert('Preencha código, descrição e localização!');return}if(editingItem){setInventory(inventory.map(item=>item.id===editingItem.id?{...formData,id:item.id}:item));setEditingItem(null)}else{const newItem={...formData,id:Date.now()};setInventory([...inventory,newItem])}setFormData({code:'',description:'',location:'',quantity:'',lot:'',validity:'',technicalSheet:'',lastUpdate:new Date().toISOString().split('T')[0]});setShowAddModal(false)};const handleEdit=(item)=>{setEditingItem(item);setFormData(item);setShowAddModal(true)};const handleDelete=(id)=>{if(confirm('Tem certeza que deseja excluir este item?')){setInventory(inventory.filter(item=>item.id!==id))}};const getItemsByLocation=(loc)=>{return inventory.filter(item=>item.location===loc)};const generateQRCodeURL=(location)=>{const baseURL=window.location.href.split('?')[0];return`${baseURL}?loc=${encodeURIComponent(location)}`};const checkExpiringSoon=(validity)=>{if(!validity)return false;const validityDate=new Date(validity);const today=new Date();const diffDays=Math.ceil((validityDate-today)/(1000*60*60*24));return diffDays<=30&&diffDays>=0};const stats={total:inventory.length,areaA:inventory.filter(i=>i.location.startsWith('A-')).length,areaB:inventory.filter(i=>i.location.startsWith('B-')).length,areaC:inventory.filter(i=>i.location.startsWith('C-')).length,expiring:inventory.filter(i=>checkExpiringSoon(i.validity)).length};useEffect(()=>{const params=new URLSearchParams(window.location.search);const loc=params.get('loc');if(loc&&locations.includes(loc)){setSelectedLocation(loc);setActiveTab('qrcodes')}},[]);const getAreaButtonClass=(areaColor,loc)=>{const baseColors={blue:'border-blue-600 text-blue-600 hover:bg-blue-600',green:'border-green-600 text-green-600 hover:bg-green-600',purple:'border-purple-600 text-purple-600 hover:bg-purple-600'};return`border-2 ${baseColors[areaColor]} px-3 py-2 rounded hover:text-white font-bold transition`};return React.createElement("div",{className:"min-h-screen bg-gray-100"},React.createElement("div",{className:"bg-blue-600 text-white p-4 shadow-lg"},React.createElement("div",{className:"max-w-7xl mx-auto"},React.createElement("h1",{className:"text-3xl font-bold"},"Sistema de Gestão de Estoque"),React.createElement("p",{className:"text-blue-100"},"Controle com QR Code Fixo"))),React.createElement("div",{className:"bg-white shadow"},React.createElement("div",{className:"max-w-7xl mx-auto"},React.createElement("div",{className:"flex gap-4 p-4"},React.createElement("button",{onClick:()=>setActiveTab('dashboard'),className:`px-4 py-2 rounded ${activeTab==='dashboard'?'bg-blue-600 text-white':'bg-gray-200'}`},"Dashboard"),React.createElement("button",{onClick:()=>setActiveTab('inventory'),className:`px-4 py-2 rounded ${activeTab==='inventory'?'bg-blue-600 text-white':'bg-gray-200'}`},"Estoque"),React.createElement("button",{onClick:()=>setActiveTab('qrcodes'),className:`px-4 py-2 rounded ${activeTab==='qrcodes'?'bg-blue-600 text-white':'bg-gray-200'}`},"QR Codes")))),React.createElement("div",{className:"max-w-7xl mx-auto p-4"},activeTab==='dashboard'&&React.createElement("div",null,React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6"},React.createElement("div",{className:"bg-white p-6 rounded-lg shadow"},React.createElement(Package,{className:"text-blue-600 mb-2",size:32}),React.createElement("div",{className:"text-3xl font-bold"},stats.total),React.createElement("div",{className:"text-gray-600"},"Total de Itens")),React.createElement("div",{className:"bg-white p-6 rounded-lg shadow"},React.createElement("div",{className:"text-3xl font-bold"},stats.areaA),React.createElement("div",{className:"text-gray-600"},"Área A")),React.createElement("div",{className:"bg-white p-6 rounded-lg shadow"},React.createElement("div",{className:"text-3xl font-bold"},stats.areaB),React.createElement("div",{className:"text-gray-600"},"Área B")),React.createElement("div",{className:"bg-white p-6 rounded-lg shadow"},React.createElement("div",{className:"text-3xl font-bold"},stats.areaC),React.createElement("div",{className:"text-gray-600"},"Área C")),React.createElement("div",{className:"bg-white p-6 rounded-lg shadow"},React.createElement(AlertTriangle,{className:"text-orange-500 mb-2",size:32}),React.createElement("div",{className:"text-3xl font-bold"},stats.expiring),React.createElement("div",{className:"text-gray-600"},"Vencendo")))),activeTab==='inventory'&&React.createElement("div",null,React.createElement("div",{className:"bg-white p-4 rounded-lg shadow mb-4"},React.createElement("div",{className:"flex gap-4 flex-wrap"},React.createElement("div",{className:"flex-1 min-w-[200px]"},React.createElement("div",{className:"relative"},React.createElement("div",{className:"absolute left-3 top-3 text-gray-400"},React.createElement(Search,null)),React.createElement("input",{type:"text",placeholder:"Buscar...",value:searchTerm,onChange:(e)=>setSearchTerm(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded"}))),React.createElement("button",{onClick:()=>{setEditingItem(null);setFormData({code:'',description:'',location:'',quantity:'',lot:'',validity:'',technicalSheet:'',lastUpdate:new Date().toISOString().split('T')[0]});setShowAddModal(true)},className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 flex items-center gap-2"},React.createElement(Plus,{size:20}),"Adicionar"))),React.createElement("div",{className:"bg-white rounded-lg shadow overflow-hidden"},React.createElement("table",{className:"w-full"},React.createElement("thead",{className:"bg-gray-50"},React.createElement("tr",null,["Código","Descrição","Local","Qtd","Lote","Validade","Ficha","Ações"].map(h=>React.createElement("th",{key:h,className:"px-4 py-3 text-left"},h)))),React.createElement("tbody",null,filteredInventory.map(item=>React.createElement("tr",{key:item.id,className:"border-t hover:bg-gray-50"},React.createElement("td",{className:"px-4 py-3 font-mono"},item.code),React.createElement("td",{className:"px-4 py-3"},item.description),React.createElement("td",{className:"px-4 py-3"},React.createElement("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm font-bold"},item.location)),React.createElement("td",{className:"px-4 py-3"},item.quantity),React.createElement("td",{className:"px-4 py-3"},item.lot||'-'),React.createElement("td",{className:"px-4 py-3"},item.validity?React.createElement("span",{className:checkExpiringSoon(item.validity)?'text-orange-600 font-bold':''},new Date(item.validity).toLocaleDateString('pt-BR')):'-'),React.createElement("td",{className:"px-4 py-3"},item.technicalSheet?React.createElement("a",{href:item.technicalSheet,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600"},React.createElement(ExternalLink,{size:18})):'-'),React.createElement("td",{className:"px-4 py-3"},React.createElement("div",{className:"flex gap-2"},React.createElement("button",{onClick:()=>handleEdit(item),className:"text-blue-600"},React.createElement(Edit2,{size:18})),React.createElement("button",{onClick:()=>handleDelete(item.id),className:"text-red-600"},React.createElement(Trash2,{size:18})))))))))),activeTab==='qrcodes'&&React.createElement("div",null,React.createElement("div",{className:"bg-white p-4 rounded-lg shadow mb-4"},React.createElement("h2",{className:"text-xl font-bold mb-2"},"QR Codes"),React.createElement("p",{className:"text-gray-600"},"Clique para visualizar")),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},[{name:'Área A',color:'blue',locs:locations.filter(l=>l.startsWith('A-'))},{name:'Área B',color:'green',locs:locations.filter(l=>l.startsWith('B-'))},{name:'Área C',color:'purple',locs:locations.filter(l=>l.startsWith('C-'))}].map(area=>React.createElement("div",{key:area.name,className:"bg-white p-4 rounded-lg shadow"},React.createElement("h3",{className:`text-lg font-bold mb-3 text-${area.color}-600`},area.name),React.createElement("div",{className:"grid grid-cols-3 gap-2"},area.locs.map(loc=>React.createElement("button",{key:loc,onClick:()=>setSelectedLocation(loc),className:getAreaButtonClass(area.color,loc)},loc,getItemsByLocation(loc).length>0&&React.createElement("span",{className:"ml-1 text-xs"},"(",getItemsByLocation(loc).length,")")))))))),showAddModal&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},React.createElement("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6"},React.createElement("div",{className:"flex justify-between items-center mb-6"},React.createElement("h2",{className:"text-2xl font-bold"},editingItem?'Editar':'Adicionar'),React.createElement("button",{onClick:()=>{setShowAddModal(false);setEditingItem(null)},className:"text-gray-500"},React.createElement(X,{size:24}))),React.createElement("div",{className:"space-y-4"},React.createElement("div",{className:"grid grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-bold mb-1"},"Código *"),React.createElement("div",{className:"relative"},React.createElement("input",{type:"text",value:formData.code,onChange:(e)=>handleCodeChange(e.target.value),onBlur:()=>setTimeout(()=>setShowSuggestions(false),200),className:"w-full border rounded px-3 py-2",placeholder:"Digite..."}),showSuggestions&&codeSuggestions.length>0&&React.createElement("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded shadow-lg max-h-60 overflow-y-auto"},codeSuggestions.map((mat,idx)=>React.createElement("div",{key:idx,onClick:()=>selectMaterial(mat),className:"px-3 py-2 hover:bg-blue-50 cursor-pointer border-b"},React.createElement("div",{className:"font-bold text-sm"},mat.code),React.createElement("div",{className:"text-xs text-gray-600 truncate"},mat.description)))))),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-bold mb-1"},"Localização *"),React.createElement("select",{value:formData.location,onChange:(e)=>setFormData({...formData,location:e.target.value}),className:"w-full border rounded px-3 py-2"},React.createElement("option",{value:""},"Selecione..."),locations.map(loc=>React.createElement("option",{key:loc,value:loc},loc))))),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-bold mb-1"},"Descrição *"),React.createElement("input",{type:"text",value:formData.description,onChange:(e)=>setFormData({...formData,description:e.target.value}),className:"w-full border rounded px-3 py-2"})),React.createElement("div",{className:"grid grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-bold mb-1"},"Quantidade"),React.createElement("input",{type:"text",value:formData.quantity,onChange:(e)=>setFormData({...formData,quantity:e.target.value}),className:"w-full border rounded px-3 py-2"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-bold mb-1"},"Lote"),React.createElement("input",{type:"text",value:formData.lot,onChange:(e)=>setFormData({...formData,lot:e.target.value}),className:"w-full border rounded px-3 py-2"}))),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-bold mb-1"},"Validade"),React.createElement("input",{type:"date",value:formData.validity,onChange:(e)=>setFormData({...formData,validity:e.target.value}),className:"w-full border rounded px-3 py-2"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-bold mb-1"},"Link Ficha"),React.createElement("input",{type:"url",value:formData.technicalSheet,onChange:(e)=>setFormData({...formData,technicalSheet:e.target.value}),className:"w-full border rounded px-3 py-2"})),React.createElement("div",{className:"flex gap-4 pt-4"},React.createElement("button",{onClick:handleAddItem,className:"flex-1 bg-blue-600 text-white py-3 rounded font-bold"},editingItem?'Atualizar':'Adicionar'),React.createElement("button",{onClick:()=>{setShowAddModal(false);setEditingItem(null)},className:"flex-1 bg-gray-300 py-3 rounded font-bold"},"Cancelar"))))),selectedLocation&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},React.createElement("div",{className:"bg-white rounded-lg max-w-2xl w-full p-6"},React.createElement("div",{className:"flex justify-between mb-6"},React.createElement("h2",{className:"text-2xl font-bold"},"Localização: ",selectedLocation),React.createElement("button",{onClick:()=>setSelectedLocation(null)},React.createElement(X,{size:24}))),React.createElement("div",{className:"text-center mb-6"},React.createElement("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(generateQRCodeURL(selectedLocation))}`,className:"w-64 h-64 mx-auto border-4 border-gray-800 p-4"}),React.createElement("p",{className:"mt-4 text-sm text-gray-600"},"Escaneie para ver")),React.createElement("div",{className:"mb-4"},React.createElement("h3",{className:"font-bold mb-2"},"Itens (",getItemsByLocation(selectedLocation).length,"):"),getItemsByLocation(selectedLocation).length===0?React.createElement("p",{className:"text-gray-500 italic"},"Nenhum item"):React.createElement("div",{className:"space-y-2"},getItemsByLocation(selectedLocation).map(item=>React.createElement("div",{key:item.id,className:"border p-3 rounded"},React.createElement("div",{className:"font-bold"},item.code," - ",item.description),React.createElement("div",{className:"text-sm text-gray-600"},"Qtd: ",item.quantity," | Lote: ",item.lot||'N/A'),item.technicalSheet&&React.createElement("a",{href:item.technicalSheet,target:"_blank",className:"text-blue-600 text-sm flex items-center gap-1 mt-1"},React.createElement(ExternalLink,{size:16}),"Ficha"))))),React.createElement("button",{onClick:()=>window.open(`https://api.qrserver.com/v1/create-qr-code/?size=600x600&data=${encodeURIComponent(generateQRCodeURL(selectedLocation))}`),className:"w-full bg-blue-600 text-white py-2 rounded flex items-center justify-center gap-2"},React.createElement(Download,{size:20}),"Baixar QR"))))}ReactDOM.render(React.createElement(App),document.getElementById('root'));
</script>
</body>
</html>
